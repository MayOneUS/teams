<!DOCTYPE html>
<html>
<head>
  <title>orm.py</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../doc-style.css" />
  <script src="../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../", thisFile = "build/wtforms/ext/django/orm.py", defaultSidebar = true;
  </script>
  <script src="../../../../doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>orm.py</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Tools for generating forms based on Django models.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">wtforms</span> <span class="kn">import</span> <span class="n">fields</span> <span class="k">as</span> <span class="n">f</span>
<span class="kn">from</span> <span class="nn">wtforms</span> <span class="kn">import</span> <span class="n">Form</span>
<span class="kn">from</span> <span class="nn">wtforms</span> <span class="kn">import</span> <span class="n">validators</span>
<span class="kn">from</span> <span class="nn">wtforms.compat</span> <span class="kn">import</span> <span class="n">iteritems</span>
<span class="kn">from</span> <span class="nn">wtforms.ext.django.fields</span> <span class="kn">import</span> <span class="n">ModelSelectField</span>


<span class="n">__all__</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s">&#39;model_fields&#39;</span><span class="p">,</span> <span class="s">&#39;model_form&#39;</span><span class="p">,</span>
<span class="p">)</span>


<span class="k">class</span> <span class="nc">ModelConverterBase</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">converters</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">converters</span> <span class="o">=</span> <span class="n">converters</span>

    <span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">field_args</span><span class="p">):</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;label&#39;</span><span class="p">:</span> <span class="n">field</span><span class="o">.</span><span class="n">verbose_name</span><span class="p">,</span>
            <span class="s">&#39;description&#39;</span><span class="p">:</span> <span class="n">field</span><span class="o">.</span><span class="n">help_text</span><span class="p">,</span>
            <span class="s">&#39;validators&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s">&#39;filters&#39;</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s">&#39;default&#39;</span><span class="p">:</span> <span class="n">field</span><span class="o">.</span><span class="n">default</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">field_args</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">field_args</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">blank</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;validators&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">validators</span><span class="o">.</span><span class="n">Optional</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">max_length</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">field</span><span class="o">.</span><span class="n">max_length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;validators&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">validators</span><span class="o">.</span><span class="n">Length</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="n">field</span><span class="o">.</span><span class="n">max_length</span><span class="p">))</span>

        <span class="n">ftype</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">field</span><span class="p">)</span><span class="o">.</span><span class="n">__name__</span>
        <span class="k">if</span> <span class="n">field</span><span class="o">.</span><span class="n">choices</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;choices&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">choices</span>
            <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">SelectField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">ftype</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">converters</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">converters</span><span class="p">[</span><span class="n">ftype</span><span class="p">](</span><span class="n">model</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">converter</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">&#39;conv_</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">ftype</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">converter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">converter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">ModelConverter</span><span class="p">(</span><span class="n">ModelConverterBase</span><span class="p">):</span>
    <span class="n">DEFAULT_SIMPLE_CONVERSIONS</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">f</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;AutoField&#39;</span><span class="p">,</span> <span class="s">&#39;IntegerField&#39;</span><span class="p">,</span> <span class="s">&#39;SmallIntegerField&#39;</span><span class="p">,</span> <span class="s">&#39;PositiveIntegerField&#39;</span><span class="p">,</span> <span class="s">&#39;PositiveSmallIntegerField&#39;</span><span class="p">],</span>
        <span class="n">f</span><span class="o">.</span><span class="n">DecimalField</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;DecimalField&#39;</span><span class="p">,</span> <span class="s">&#39;FloatField&#39;</span><span class="p">],</span>
        <span class="n">f</span><span class="o">.</span><span class="n">FileField</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;FileField&#39;</span><span class="p">,</span> <span class="s">&#39;FilePathField&#39;</span><span class="p">,</span> <span class="s">&#39;ImageField&#39;</span><span class="p">],</span>
        <span class="n">f</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;DateTimeField&#39;</span><span class="p">],</span>
        <span class="n">f</span><span class="o">.</span><span class="n">DateField</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;DateField&#39;</span><span class="p">],</span>
        <span class="n">f</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;BooleanField&#39;</span><span class="p">],</span>
        <span class="n">f</span><span class="o">.</span><span class="n">TextField</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;CharField&#39;</span><span class="p">,</span> <span class="s">&#39;PhoneNumberField&#39;</span><span class="p">,</span> <span class="s">&#39;SlugField&#39;</span><span class="p">],</span>
        <span class="n">f</span><span class="o">.</span><span class="n">TextAreaField</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;TextField&#39;</span><span class="p">,</span> <span class="s">&#39;XMLField&#39;</span><span class="p">],</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extra_converters</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">simple_conversions</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">converters</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">simple_conversions</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">simple_conversions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DEFAULT_SIMPLE_CONVERSIONS</span>
        <span class="k">for</span> <span class="n">field_type</span><span class="p">,</span> <span class="n">django_fields</span> <span class="ow">in</span> <span class="n">iteritems</span><span class="p">(</span><span class="n">simple_conversions</span><span class="p">):</span>
            <span class="n">converter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">make_simple_converter</span><span class="p">(</span><span class="n">field_type</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">django_fields</span><span class="p">:</span>
                <span class="n">converters</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">converter</span>

        <span class="k">if</span> <span class="n">extra_converters</span><span class="p">:</span>
            <span class="n">converters</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">extra_converters</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ModelConverter</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">converters</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">make_simple_converter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">field_type</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">_converter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">field_type</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">_converter</span>

    <span class="k">def</span> <span class="nf">conv_ForeignKey</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">ModelSelectField</span><span class="p">(</span><span class="n">model</span><span class="o">=</span><span class="n">field</span><span class="o">.</span><span class="n">rel</span><span class="o">.</span><span class="n">to</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">conv_TimeField</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">time_only</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">obj</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">obj</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;filters&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">time_only</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">format</span><span class="o">=</span><span class="s">&#39;%H:%M:%S&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">conv_EmailField</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;validators&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">validators</span><span class="o">.</span><span class="n">email</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">conv_IPAddressField</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;validators&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">validators</span><span class="o">.</span><span class="n">ip_address</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">conv_URLField</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;validators&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">validators</span><span class="o">.</span><span class="n">url</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">conv_NullBooleanField</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">field</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">django.db.models.fields</span> <span class="kn">import</span> <span class="n">NOT_PROVIDED</span>

        <span class="k">def</span> <span class="nf">coerce_nullbool</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
            <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;None&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="s">&#39;True&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">&#39;False&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">}</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">NOT_PROVIDED</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">None</span>
            <span class="k">elif</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">d</span><span class="p">[</span><span class="n">value</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>

        <span class="n">choices</span> <span class="o">=</span> <span class="p">((</span><span class="bp">None</span><span class="p">,</span> <span class="s">&#39;Unknown&#39;</span><span class="p">),</span> <span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="s">&#39;Yes&#39;</span><span class="p">),</span> <span class="p">(</span><span class="bp">False</span><span class="p">,</span> <span class="s">&#39;No&#39;</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">SelectField</span><span class="p">(</span><span class="n">choices</span><span class="o">=</span><span class="n">choices</span><span class="p">,</span> <span class="nb">coerce</span><span class="o">=</span><span class="n">coerce_nullbool</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">model_fields</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">only</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">field_args</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">converter</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate a dictionary of fields for a given Django model.</span>

<span class="sd">    See `model_form` docstring for description of parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">converter</span> <span class="o">=</span> <span class="n">converter</span> <span class="ow">or</span> <span class="n">ModelConverter</span><span class="p">()</span>
    <span class="n">field_args</span> <span class="o">=</span> <span class="n">field_args</span> <span class="ow">or</span> <span class="p">{}</span>

    <span class="n">model_fields</span> <span class="o">=</span> <span class="p">((</span><span class="n">f</span><span class="o">.</span><span class="n">attname</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">fields</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">only</span><span class="p">:</span>
        <span class="n">model_fields</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">model_fields</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">only</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">exclude</span><span class="p">:</span>
        <span class="n">model_fields</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">model_fields</span> <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">exclude</span><span class="p">)</span>

    <span class="n">field_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">model_field</span> <span class="ow">in</span> <span class="n">model_fields</span><span class="p">:</span>
        <span class="n">field</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">model_field</span><span class="p">,</span> <span class="n">field_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">field</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">field_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span>

    <span class="k">return</span> <span class="n">field_dict</span>


<span class="k">def</span> <span class="nf">model_form</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">base_class</span><span class="o">=</span><span class="n">Form</span><span class="p">,</span> <span class="n">only</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">field_args</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">converter</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a wtforms Form for a given Django model class::</span>

<span class="sd">        from wtforms.ext.django.orm import model_form</span>
<span class="sd">        from myproject.myapp.models import User</span>
<span class="sd">        UserForm = model_form(User)</span>

<span class="sd">    :param model:</span>
<span class="sd">        A Django ORM model class</span>
<span class="sd">    :param base_class:</span>
<span class="sd">        Base form class to extend from. Must be a ``wtforms.Form`` subclass.</span>
<span class="sd">    :param only:</span>
<span class="sd">        An optional iterable with the property names that should be included in</span>
<span class="sd">        the form. Only these properties will have fields.</span>
<span class="sd">    :param exclude:</span>
<span class="sd">        An optional iterable with the property names that should be excluded</span>
<span class="sd">        from the form. All other properties will have fields.</span>
<span class="sd">    :param field_args:</span>
<span class="sd">        An optional dictionary of field names mapping to keyword arguments used</span>
<span class="sd">        to construct each field object.</span>
<span class="sd">    :param converter:</span>
<span class="sd">        A converter to generate the fields based on the model properties. If</span>
<span class="sd">        not set, ``ModelConverter`` is used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">field_dict</span> <span class="o">=</span> <span class="n">model_fields</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">only</span><span class="p">,</span> <span class="n">exclude</span><span class="p">,</span> <span class="n">field_args</span><span class="p">,</span> <span class="n">converter</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">_meta</span><span class="o">.</span><span class="n">object_name</span> <span class="o">+</span> <span class="s">&#39;Form&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">base_class</span><span class="p">,</span> <span class="p">),</span> <span class="n">field_dict</span><span class="p">)</span>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>

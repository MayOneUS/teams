<!DOCTYPE html>
<html>
<head>
  <title>ndb.py</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../../doc-style.css" />
  <script src="../../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../../", thisFile = "build/wtforms/ext/appengine/ndb.py", defaultSidebar = true;
  </script>
  <script src="../../../../doc-script.js"></script>
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
      <tr>
        <td class="docs">
          <h1>ndb.py</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1">&#182;</a>
</div>

        </td>
        <td class="code highlight"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Form generation utilities for App Engine&#39;s new ``ndb.Model`` class.</span>

<span class="sd">The goal of ``model_form()`` is to provide a clean, explicit and predictable</span>
<span class="sd">way to create forms based on ``ndb.Model`` classes. No malabarism or black</span>
<span class="sd">magic should be necessary to generate a form for models, and to add custom</span>
<span class="sd">non-model related fields: ``model_form()`` simply generates a form class</span>
<span class="sd">that can be used as it is, or that can be extended directly or even be used</span>
<span class="sd">to create other forms using ``model_form()``.</span>

<span class="sd">Example usage:</span>

<span class="sd">.. code-block:: python</span>

<span class="sd">   from google.appengine.ext import ndb</span>
<span class="sd">   from wtforms.ext.appengine.ndb import model_form</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2">&#182;</a>
</div>
<p>Define an example model and add a record.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="sd">   class Contact(ndb.Model):</span>
<span class="sd">       name = ndb.StringProperty(required=True)</span>
<span class="sd">       city = ndb.StringProperty()</span>
<span class="sd">       age = ndb.IntegerProperty(required=True)</span>
<span class="sd">       is_admin = ndb.BooleanProperty(default=False)</span>

<span class="sd">   new_entity = Contact(key_name=&#39;test&#39;, name=&#39;Test Name&#39;, age=17)</span>
<span class="sd">   new_entity.put()</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3">&#182;</a>
</div>
<p>Generate a form based on the model.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="sd">   ContactForm = model_form(Contact)</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4">&#182;</a>
</div>
<p>Get a form populated with entity data.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="sd">   entity = Contact.get_by_key_name(&#39;test&#39;)</span>
<span class="sd">   form = ContactForm(obj=entity)</span>

<span class="sd">Properties from the model can be excluded from the generated form, or it can</span>
<span class="sd">include just a set of properties. For example:</span>

<span class="sd">.. code-block:: python</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5">&#182;</a>
</div>
<p>Generate a form based on the model, excluding 'city' and 'is_admin'.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="sd">   ContactForm = model_form(Contact, exclude=(&#39;city&#39;, &#39;is_admin&#39;))</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6">&#182;</a>
</div>
<p>or...</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7">&#182;</a>
</div>
<p>Generate a form based on the model, only including 'name' and 'age'.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="sd">   ContactForm = model_form(Contact, only=(&#39;name&#39;, &#39;age&#39;))</span>

<span class="sd">The form can be generated setting field arguments:</span>

<span class="sd">.. code-block:: python</span>

<span class="sd">   ContactForm = model_form(Contact, only=(&#39;name&#39;, &#39;age&#39;), field_args={</span>
<span class="sd">       &#39;name&#39;: {</span>
<span class="sd">           &#39;label&#39;: &#39;Full name&#39;,</span>
<span class="sd">           &#39;description&#39;: &#39;Your name&#39;,</span>
<span class="sd">       },</span>
<span class="sd">       &#39;age&#39;: {</span>
<span class="sd">           &#39;label&#39;: &#39;Age&#39;,</span>
<span class="sd">           &#39;validators&#39;: [validators.NumberRange(min=14, max=99)],</span>
<span class="sd">       }</span>
<span class="sd">   })</span>

<span class="sd">The class returned by ``model_form()`` can be used as a base class for forms</span>
<span class="sd">mixing non-model fields and/or other model forms. For example:</span>

<span class="sd">.. code-block:: python</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8">&#182;</a>
</div>
<p>Generate a form based on the model.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="sd">   BaseContactForm = model_form(Contact)</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9">&#182;</a>
</div>
<p>Generate a form based on other model.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="sd">   ExtraContactForm = model_form(MyOtherModel)</span>

<span class="sd">   class ContactForm(BaseContactForm):</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10">&#182;</a>
</div>
<p>Add an extra, non-model related field.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="sd">       subscribe_to_news = f.BooleanField()</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11">&#182;</a>
</div>
<p>Add the other model form as a subform.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="sd">       extra = f.FormField(ExtraContactForm)</span>

<span class="sd">The class returned by ``model_form()`` can also extend an existing form</span>
<span class="sd">class:</span>

<span class="sd">.. code-block:: python</span>

<span class="sd">   class BaseContactForm(Form):</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12">&#182;</a>
</div>
<p>Add an extra, non-model related field.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="sd">       subscribe_to_news = f.BooleanField()</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13">&#182;</a>
</div>
<p>Generate a form based on the model.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
<span class="sd">   ContactForm = model_form(Contact, base_class=BaseContactForm)</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">wtforms</span> <span class="kn">import</span> <span class="n">Form</span><span class="p">,</span> <span class="n">validators</span><span class="p">,</span> <span class="n">fields</span> <span class="k">as</span> <span class="n">f</span>
<span class="kn">from</span> <span class="nn">wtforms.compat</span> <span class="kn">import</span> <span class="n">string_types</span>
<span class="kn">from</span> <span class="nn">wtforms.ext.appengine.fields</span> <span class="kn">import</span> <span class="n">GeoPtPropertyField</span><span class="p">,</span> <span class="n">KeyPropertyField</span><span class="p">,</span> <span class="n">StringListPropertyField</span><span class="p">,</span> <span class="n">IntegerListPropertyField</span>


<span class="k">def</span> <span class="nf">get_TextField</span><span class="p">(</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a ``TextField``, applying the ``ndb.StringProperty`` length limit</span>
<span class="sd">    of 500 bytes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;validators&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">validators</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">500</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">get_IntegerField</span><span class="p">(</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns an ``IntegerField``, applying the ``ndb.IntegerProperty`` range</span>
<span class="sd">    limits.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">validators</span><span class="o">.</span><span class="n">NumberRange</span><span class="p">(</span><span class="nb">min</span><span class="o">=-</span><span class="mh">0x8000000000000000</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mh">0x7fffffffffffffff</span><span class="p">)</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;validators&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">ModelConverterBase</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">converters</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs the converter, setting the converter callables.</span>

<span class="sd">        :param converters:</span>
<span class="sd">            A dictionary of converter callables for each property type. The</span>
<span class="sd">            callable must accept the arguments (model, prop, kwargs).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">converters</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;convert_&#39;</span><span class="p">):</span>
                <span class="k">continue</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">converters</span><span class="p">[</span><span class="n">name</span><span class="p">[</span><span class="mi">8</span><span class="p">:]]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">field_args</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a form field for a single model property.</span>

<span class="sd">        :param model:</span>
<span class="sd">            The ``db.Model`` class that contains the property.</span>
<span class="sd">        :param prop:</span>
<span class="sd">            The model property: a ``db.Property`` instance.</span>
<span class="sd">        :param field_args:</span>
<span class="sd">            Optional keyword arguments to construct the field.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">prop_type_name</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">prop</span><span class="p">)</span><span class="o">.</span><span class="n">__name__</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14">&#182;</a>
</div>
<p>Check for generic property</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
        <span class="k">if</span><span class="p">(</span><span class="n">prop_type_name</span> <span class="o">==</span> <span class="s">&quot;GenericProperty&quot;</span><span class="p">):</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15">&#182;</a>
</div>
<p>Try to get type from field args</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
            <span class="n">generic_type</span> <span class="o">=</span> <span class="n">field_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;type&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">generic_type</span><span class="p">:</span>
                <span class="n">prop_type_name</span> <span class="o">=</span> <span class="n">field_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;type&quot;</span><span class="p">)</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16">&#182;</a>
</div>
<p>If no type is found, the generic property uses string set in convert_GenericProperty</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">&#39;label&#39;</span><span class="p">:</span> <span class="n">prop</span><span class="o">.</span><span class="n">_code_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;_&#39;</span><span class="p">,</span> <span class="s">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">(),</span>
            <span class="s">&#39;default&#39;</span><span class="p">:</span> <span class="n">prop</span><span class="o">.</span><span class="n">_default</span><span class="p">,</span>
            <span class="s">&#39;validators&#39;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">field_args</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">field_args</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">_required</span> <span class="ow">and</span> <span class="n">prop_type_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">NO_AUTO_REQUIRED</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;validators&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">validators</span><span class="o">.</span><span class="n">required</span><span class="p">())</span>

        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;choices&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17">&#182;</a>
</div>
<p>Use choices in a select field.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
            <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;choices&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="n">v</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;choices&#39;</span><span class="p">)]</span>
            <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">SelectField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">_choices</span><span class="p">:</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18">&#182;</a>
</div>
<p>Use choices in a select field.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
            <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;choices&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="n">v</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">prop</span><span class="o">.</span><span class="n">_choices</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">SelectField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">converter</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">converters</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">prop_type_name</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">converter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">converter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fallback_converter</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">ModelConverter</span><span class="p">(</span><span class="n">ModelConverterBase</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts properties from a ``ndb.Model`` class to form fields.</span>

<span class="sd">    Default conversions between properties and fields:</span>

<span class="sd">    +====================+===================+==============+==================+</span>
<span class="sd">    | Property subclass  | Field subclass    | datatype     | notes            |</span>
<span class="sd">    +====================+===================+==============+==================+</span>
<span class="sd">    | StringProperty     | TextField         | unicode      | TextArea         | repeated support</span>
<span class="sd">    |                    |                   |              | if multiline     |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | BooleanProperty    | BooleanField      | bool         |                  |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | IntegerProperty    | IntegerField      | int or long  |                  | repeated support</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | FloatProperty      | TextField         | float        |                  |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | DateTimeProperty   | DateTimeField     | datetime     | skipped if       |</span>
<span class="sd">    |                    |                   |              | auto_now[_add]   |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | DateProperty       | DateField         | date         | skipped if       |</span>
<span class="sd">    |                    |                   |              | auto_now[_add]   |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | TimeProperty       | DateTimeField     | time         | skipped if       |</span>
<span class="sd">    |                    |                   |              | auto_now[_add]   |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | TextProperty       | TextAreaField     | unicode      |                  |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | GeoPtProperty      | TextField         | db.GeoPt     |                  |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | KeyProperty        | KeyProperyField   | ndb.Key      |                  |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | BlobKeyProperty    | None              | ndb.BlobKey  | always skipped   |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | UserProperty       | None              | users.User   | always skipped   |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | StructuredProperty | None              | ndb.Model    | always skipped   |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | LocalStructuredPro | None              | ndb.Model    | always skipped   |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | JsonProperty       | TextField         | unicode      |                  |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | PickleProperty     | None              | bytedata     | always skipped   |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | GenericProperty    | None              | generic      | always skipped   |</span>
<span class="sd">    +--------------------+-------------------+--------------+------------------+</span>
<span class="sd">    | ComputedProperty   | none              |              | always skipped   |</span>
<span class="sd">    +====================+===================+==============+==================+</span>

<span class="sd">    &quot;&quot;&quot;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19">&#182;</a>
</div>
<p>Don't automatically add a required validator for these properties</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="n">NO_AUTO_REQUIRED</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">([</span><span class="s">&#39;ListProperty&#39;</span><span class="p">,</span> <span class="s">&#39;StringListProperty&#39;</span><span class="p">,</span> <span class="s">&#39;BooleanProperty&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">convert_StringProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.StringProperty``.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">_repeated</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">StringListPropertyField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;validators&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">validators</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">500</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">get_TextField</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">convert_BooleanProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.BooleanProperty``.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">convert_IntegerProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.IntegerProperty``.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">_repeated</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">IntegerListPropertyField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">get_IntegerField</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">convert_FloatProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.FloatProperty``.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">FloatField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">convert_DateTimeProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.DateTimeProperty``.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">_auto_now</span> <span class="ow">or</span> <span class="n">prop</span><span class="o">.</span><span class="n">_auto_now_add</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>

        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">format</span><span class="o">=</span><span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s"> %H:%M:%S&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">convert_DateProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.DateProperty``.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">_auto_now</span> <span class="ow">or</span> <span class="n">prop</span><span class="o">.</span><span class="n">_auto_now_add</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>

        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">format</span><span class="o">=</span><span class="s">&#39;%Y-%m-</span><span class="si">%d</span><span class="s">&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">convert_TimeProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.TimeProperty``.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">prop</span><span class="o">.</span><span class="n">_auto_now</span> <span class="ow">or</span> <span class="n">prop</span><span class="o">.</span><span class="n">_auto_now_add</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>

        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">format</span><span class="o">=</span><span class="s">&#39;%H:%M:%S&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">convert_RepeatedProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.ListProperty``.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">convert_UserProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.UserProperty``.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">convert_StructuredProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.ListProperty``.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">convert_LocalStructuredProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.ListProperty``.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">convert_JsonProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.ListProperty``.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">convert_PickleProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.ListProperty``.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">convert_GenericProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.ListProperty``.&quot;&quot;&quot;</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;validators&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">validators</span><span class="o">.</span><span class="n">length</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">500</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">get_TextField</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">convert_BlobKeyProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.BlobKeyProperty``.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">FileField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">convert_TextProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.TextProperty``.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">f</span><span class="o">.</span><span class="n">TextAreaField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">convert_ComputedProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.ComputedProperty``.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">convert_GeoPtProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.GeoPtProperty``.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">GeoPtPropertyField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">convert_KeyProperty</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">prop</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Returns a form field for a ``ndb.KeyProperty``.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s">&#39;reference_class&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">reference_class</span> <span class="o">=</span> <span class="n">prop</span><span class="o">.</span><span class="n">_kind</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="n">reference_class</span> <span class="o">=</span> <span class="n">prop</span><span class="o">.</span><span class="n">_reference_class</span>

            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">reference_class</span><span class="p">,</span> <span class="n">string_types</span><span class="p">):</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20">&#182;</a>
</div>
<p>reference class is a string, try to retrieve the model object.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
                <span class="n">mod</span> <span class="o">=</span> <span class="nb">__import__</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">__module__</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="p">[</span><span class="n">reference_class</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">reference_class</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="n">reference_class</span><span class="p">)</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s">&#39;reference_class&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reference_class</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s">&#39;allow_blank&#39;</span><span class="p">,</span> <span class="ow">not</span> <span class="n">prop</span><span class="o">.</span><span class="n">_required</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">KeyPropertyField</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">model_fields</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">only</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">field_args</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">converter</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extracts and returns a dictionary of form fields for a given</span>
<span class="sd">    ``db.Model`` class.</span>

<span class="sd">    :param model:</span>
<span class="sd">        The ``db.Model`` class to extract fields from.</span>
<span class="sd">    :param only:</span>
<span class="sd">        An optional iterable with the property names that should be included in</span>
<span class="sd">        the form. Only these properties will have fields.</span>
<span class="sd">    :param exclude:</span>
<span class="sd">        An optional iterable with the property names that should be excluded</span>
<span class="sd">        from the form. All other properties will have fields.</span>
<span class="sd">    :param field_args:</span>
<span class="sd">        An optional dictionary of field names mapping to a keyword arguments</span>
<span class="sd">        used to construct each field object.</span>
<span class="sd">    :param converter:</span>
<span class="sd">        A converter to generate the fields based on the model properties. If</span>
<span class="sd">        not set, ``ModelConverter`` is used.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">converter</span> <span class="o">=</span> <span class="n">converter</span> <span class="ow">or</span> <span class="n">ModelConverter</span><span class="p">()</span>
    <span class="n">field_args</span> <span class="o">=</span> <span class="n">field_args</span> <span class="ow">or</span> <span class="p">{}</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21">&#182;</a>
</div>
<p>Get the field names we want to include or exclude, starting with the
full list of model properties.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="n">props</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">_properties</span>
    <span class="n">field_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">props</span><span class="o">.</span><span class="n">items</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">_creation_counter</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">only</span><span class="p">:</span>
        <span class="n">field_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">only</span> <span class="k">if</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">field_names</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">exclude</span><span class="p">:</span>
        <span class="n">field_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">field_names</span> <span class="k">if</span> <span class="n">f</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">exclude</span><span class="p">)</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22">&#182;</a>
</div>
<p>Create all fields.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="n">field_dict</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">field_names</span><span class="p">:</span>
        <span class="n">field</span> <span class="o">=</span> <span class="n">converter</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">props</span><span class="p">[</span><span class="n">name</span><span class="p">],</span> <span class="n">field_args</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">field</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">field_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">field</span>

    <span class="k">return</span> <span class="n">field_dict</span>


<span class="k">def</span> <span class="nf">model_form</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">base_class</span><span class="o">=</span><span class="n">Form</span><span class="p">,</span> <span class="n">only</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">exclude</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">field_args</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
               <span class="n">converter</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates and returns a dynamic ``wtforms.Form`` class for a given</span>
<span class="sd">    ``ndb.Model`` class. The form class can be used as it is or serve as a base</span>
<span class="sd">    for extended form classes, which can then mix non-model related fields,</span>
<span class="sd">    subforms with other model forms, among other possibilities.</span>

<span class="sd">    :param model:</span>
<span class="sd">        The ``ndb.Model`` class to generate a form for.</span>
<span class="sd">    :param base_class:</span>
<span class="sd">        Base form class to extend from. Must be a ``wtforms.Form`` subclass.</span>
<span class="sd">    :param only:</span>
<span class="sd">        An optional iterable with the property names that should be included in</span>
<span class="sd">        the form. Only these properties will have fields.</span>
<span class="sd">    :param exclude:</span>
<span class="sd">        An optional iterable with the property names that should be excluded</span>
<span class="sd">        from the form. All other properties will have fields.</span>
<span class="sd">    :param field_args:</span>
<span class="sd">        An optional dictionary of field names mapping to keyword arguments</span>
<span class="sd">        used to construct each field object.</span>
<span class="sd">    :param converter:</span>
<span class="sd">        A converter to generate the fields based on the model properties. If</span>
<span class="sd">        not set, ``ModelConverter`` is used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23">&#182;</a>
</div>
<p>Extract the fields from the model.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="n">field_dict</span> <span class="o">=</span> <span class="n">model_fields</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">only</span><span class="p">,</span> <span class="n">exclude</span><span class="p">,</span> <span class="n">field_args</span><span class="p">,</span> <span class="n">converter</span><span class="p">)</span>


</pre></div>
        </td>
      </tr>
      <tr>
        <td class="docs">
<div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24">&#182;</a>
</div>
<p>Return a dynamically created form class, extending from base_class and
including the created fields as properties.</p>
        </td>
        <td class="code highlight"><div class="highlight"><pre>
    <span class="k">return</span> <span class="nb">type</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">_get_kind</span><span class="p">()</span> <span class="o">+</span> <span class="s">&#39;Form&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">base_class</span><span class="p">,),</span> <span class="n">field_dict</span><span class="p">)</span>
</pre></div>
        </td>
      </tr>
  </tbody>
</table>
  </div>
</body>
</html>
